(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70c75020"],{"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,r){var n=r("52a7"),a=r("4630"),i=r("6821"),s=r("6a99"),o=r("69a8"),c=r("c69a"),l=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?l:function(t,e){if(t=i(t),e=s(e,!0),c)try{return l(t,e)}catch(r){}if(o(t,e))return a(!n.f.call(t,e),t[e])}},"1ea4":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",{staticClass:"admin-title"},[t._v(t._s(t.title))]),r("Row",[r("Col",{staticClass:"admin-operation",attrs:{span:t.left}},[t._t("head-left")],2),r("Col",{staticClass:"admin-search",attrs:{span:t.right}},[t._t("head-right")],2)],1),r("Table",{attrs:{data:t.data.data,loading:t.loading,columns:t.columns,border:""}}),r("Page",{staticClass:"page",attrs:{total:t.data.total},on:{"on-change":t.page}})],1)},a=[],i=(r("96cf"),r("3b8d")),s=(r("c5f6"),{props:{title:{type:String,default:""},left:{type:Number,default:6},right:{type:Number,default:18},columns:{type:Array,default:[]},getData:{type:Function,default:null}},data:function(){return{loading:!1,data:{total:0,data:[]}}},methods:{page:function(t){this.fetchList(t)},fetchList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:1,this.getData){t.next=3;break}return t.abrupt("return",!1);case 3:return this.loading=!0,r={page:e},n=this.getData(r),t.next=8,n[0](n[1]);case 8:n=t.sent,this.data=n||{total:0,data:[]},this.loading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),o=s,c=(r("e1e9"),r("2877")),l=Object(c["a"])(o,n,a,!1,null,"541be4ce",null);e["a"]=l.exports},"214f":function(t,e,r){"use strict";r("b0c5");var n=r("2aba"),a=r("32e9"),i=r("79e5"),s=r("be13"),o=r("2b4c"),c=r("520a"),l=o("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=o(t),h=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),d=h?!i((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[p](""),!e})):void 0;if(!h||!d||"replace"===t&&!u||"split"===t&&!f){var m=/./[p],v=r(s,p,""[t],(function(t,e,r,n,a){return e.exec===c?h&&!a?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),g=v[0],_=v[1];n(String.prototype,t,g),a(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"386d":function(t,e,r){"use strict";var n=r("cb7c"),a=r("83a1"),i=r("5f1b");r("214f")("search",1,(function(t,e,r,s){return[function(r){var n=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var o=n(t),c=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var u=i(o,c);return a(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"520a":function(t,e,r){"use strict";var n=r("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[o]||0!==e[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(t){var e,r,s,u,f=this;return l&&(r=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),c&&(e=f[o]),s=a.call(f,t),c&&s&&(f[o]=f.global?s.index+s[0].length:e),l&&s&&s.length>1&&i.call(s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s},"5dbc":function(t,e,r){var n=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var i,s=e.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&n(i)&&a&&a(t,i),t}},"5f1b":function(t,e,r){"use strict";var n=r("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var i=r.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},7732:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("FetchList",{ref:"table",attrs:{title:"商品列表",columns:t.columns,getData:t.list}},[r("Button",{attrs:{slot:"head-left",type:"info"},on:{click:t.add},slot:"head-left"},[t._v("添加")]),r("Form",{attrs:{slot:"head-right",inline:""},slot:"head-right"},[r("FormItem",[r("Input",{staticStyle:{width:"260px"},model:{value:t.search.value,callback:function(e){t.$set(t.search,"value",e)},expression:"search.value"}},[r("Select",{staticStyle:{width:"100px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.search.type,callback:function(e){t.$set(t.search,"type",e)},expression:"search.type"}},t._l(t.searchList,(function(e,n){return r("Option",{key:n,attrs:{value:e.value}},[t._v("\n                            "+t._s(e.title)+"\n                        ")])})),1)],1)],1),r("FormItem",[r("Button",{attrs:{type:"info"},on:{click:function(e){return t.$refs.table.fetchList()}}},[t._v("搜索")])],1)],1)],1),r("Modal",{attrs:{title:"商品详情",width:1e3},model:{value:t.info.is_show,callback:function(e){t.$set(t.info,"is_show",e)},expression:"info.is_show"}},[r("Divider",{attrs:{orientation:"left"}},[t._v("基本信息")]),r("table",{staticStyle:{width:"100%","text-align":"center","font-size":"16px","border-collapse":"collapse",border:"1px solid #ddd"},attrs:{border:"1"}},[r("tr",[r("th",[t._v("商品名称")]),r("th",[t._v("商品分类")]),r("th",[t._v("价格")]),r("th",[t._v("库存")])]),r("tr",[r("td",[t._v(t._s(t.info.data.name))]),r("td",[t._v(t._s(t.info.data.class_name))]),r("td",[t._v(t._s(t.info.data.sell_price))]),r("td",[t._v(t._s(t.info.data.stock))])])]),r("Divider",{attrs:{orientation:"left"}},[t._v("商品描述")]),r("Input",{attrs:{type:"textarea",readonly:""},model:{value:t.info.data.desc,callback:function(e){t.$set(t.info.data,"desc",e)},expression:"info.data.desc"}}),r("Divider",{attrs:{orientation:"left"}},[t._v("商品图片")]),r("Row",{attrs:{gutter:20}},t._l(t.info.data.imgs,(function(e,n){return r("Col",{key:n,attrs:{span:"6"}},[r("img",{staticStyle:{cursor:"pointer"},attrs:{src:e,width:"100%"},on:{click:function(r){t.picture.is_show=!0,t.picture.src=e}}})])})),1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.info.is_show=!1}}},[t._v("关闭")])],1)],1),r("pictureView",{attrs:{is_show:t.picture.is_show,src:t.picture.src},on:{closePicture:function(e){t.picture.is_show=!1}}}),r("Modal",{attrs:{title:t.operation.title},on:{"on-ok":t.ok},model:{value:t.operation.is_show,callback:function(e){t.$set(t.operation,"is_show",e)},expression:"operation.is_show"}},[r("Form",{attrs:{model:t.form,"label-width":100}},[r("FormItem",{attrs:{label:"商品名称"}},[r("Input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("FormItem",{attrs:{label:"商品分类"}},[r("Select",{model:{value:t.form.class_id,callback:function(e){t.$set(t.form,"class_id",e)},expression:"form.class_id"}},t._l(t.category,(function(e,n){return r("Option",{key:n,attrs:{disabled:0==e.parent_id,value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),1)],1),r("FormItem",{attrs:{label:"价格"}},[r("Input",{attrs:{type:"number",placeholder:"请输入价格"},model:{value:t.form.sell_price,callback:function(e){t.$set(t.form,"sell_price",e)},expression:"form.sell_price"}})],1),r("FormItem",{attrs:{label:"库存"}},[r("Input",{attrs:{type:"number",placeholder:"请输入库存"},model:{value:t.form.stock,callback:function(e){t.$set(t.form,"stock",e)},expression:"form.stock"}})],1),r("FormItem",{attrs:{label:"描述"}},[r("Input",{attrs:{type:"textarea",placeholder:"请输入商品描述"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),r("FormItem",{attrs:{label:"上传图片"}},[r("Upload",{ref:"uploadFile",attrs:{action:"http://api.myvue.com/admin/system/upload","on-success":t.uploadSuccess,multiple:""}},[r("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传商品图片")])],1)],1)],1)],1)],1)},a=[],i=(r("386d"),r("96cf"),r("3b8d")),s=(r("7f7f"),r("1ea4")),o=r("cb1a"),c={components:{FetchList:s["a"],pictureView:o["a"]},data:function(){var t=this;return{picture:{is_show:!1,src:""},info:{is_show:!1,data:{}},operation:{is_show:!1,title:""},category:[],form:{id:0,name:"",class_id:0,sell_price:0,stock:0,imgs:[],desc:""},search:{type:"name",value:""},searchList:[{title:"商品名称",value:"name"},{title:"分类名称",value:"class_name"}],columns:[{title:"商品名称",key:"name",align:"center",render:function(e,r){return e("a",{on:{click:function(){t.info.is_show=!0,t.detail(r.row.id)}}},r.row.name)}},{title:"缩略图",key:"thumb",align:"center",render:function(e,r){return e("img",{style:{width:"100%",cursor:"pointer"},attrs:{src:r.row.thumb},on:{click:function(){t.picture.is_show=!0,t.picture.src=r.row.thumb}}},r.row.name)}},{title:"所属分类",key:"class_name",align:"center"},{title:"商品名称",key:"name",align:"center"},{title:"价格",key:"sell_price",align:"center",width:"90px"},{title:"库存",key:"stock",align:"center"},{title:"上下架",key:"shelf",align:"center",render:function(e,r){return e("i-switch",{props:{value:1==r.row.shelf,size:"small"},on:{"on-change":function(){t.changeStatus(r.row.id)}}})}},{title:"操作",align:"center",render:function(e,r){return e("div",[e("Button",{props:{type:"error",size:"small"},style:{margin:"0 5px"},on:{click:function(){t.$Modal.confirm({title:"提示",content:"确定要删除此账户吗",onOk:function(){t.delete(r.row.id)}})}}},"删除"),e("Button",{props:{type:"warning",size:"small"},style:{margin:"0 5px"},on:{click:function(){t.operation.is_show=!0,t.operation.title="修改商品",t.detail(r.row.id)}}},"修改")])}}]}},mounted:function(){this.$refs.table.fetchList()},watch:{"operation.is_show":function(t){this.categroyList()}},methods:{add:function(){this.operation.is_show=!0,this.operation.title="添加商品"},ok:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.form.id>0)){t.next=5;break}return t.next=3,this.update({id:this.form.id,name:this.form.name,class_id:this.form.class_id,sell_price:this.form.sell_price,stock:this.form.stock,imgs:this.form.imgs,desc:this.form.desc});case 3:t.next=7;break;case 5:return t.next=7,this.insert({name:this.form.name,class_id:this.form.class_id,sell_price:this.form.sell_price,stock:this.form.stock,imgs:this.form.imgs,desc:this.form.desc});case 7:this.clear();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clear:function(){this.form={id:0,name:"",class_id:0,sell_price:0,stock:0,imgs:[],desc:""},this.$refs.table.fetchList()},uploadSuccess:function(t){if(200!=t.ret)return this.$Message.error(t.msg),!1;this.form.imgs.push(t.data),console.log(this.form.imgs)},list:function(t){return t[this.search.type]=this.search.value,[this.$api.goods.list,t]},insert:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.insert(e);case 2:r=t.sent,r&&this.$Message.success("添加成功");case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.update(e);case 2:r=t.sent,r&&this.$Message.success("修改成功");case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),detail:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$Spin.show(),t.next=3,this.$api.goods.detail({id:e});case 3:r=t.sent,r&&(this.info.data=r,this.form=r),this.$Spin.hide();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeStatus:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.changeStatus({id:e});case 2:r=t.sent,r&&(this.$Message.success("操作成功"),this.$refs.table.fetchList());case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),delete:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.delete({id:e});case 2:r=t.sent,r&&(this.$Message.success("删除成功"),this.$refs.table.fetchList());case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),categroyList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.category.htmlList();case 2:e=t.sent,e&&(this.category=e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},l=c,u=r("2877"),f=Object(u["a"])(l,n,a,!1,null,null,null);e["default"]=f.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8b97":function(t,e,r){var n=r("d3f4"),a=r("cb7c"),i=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},9093:function(t,e,r){var n=r("ce10"),a=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},"92f8":function(t,e,r){},aa77:function(t,e,r){var n=r("5ca1"),a=r("be13"),i=r("79e5"),s=r("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(t,e,r){var a={},o=i((function(){return!!s[t]()||c[t]()!=c})),l=a[t]=o?e(p):s[t];r&&(a[r]=l),n(n.P+n.F*o,"String",a)},p=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},b0c5:function(t,e,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},c5f6:function(t,e,r){"use strict";var n=r("7726"),a=r("69a8"),i=r("2d95"),s=r("5dbc"),o=r("6a99"),c=r("79e5"),l=r("9093").f,u=r("11e9").f,f=r("86cc").f,p=r("aa77").trim,h="Number",d=n[h],m=d,v=d.prototype,g=i(r("2aeb")(v))==h,_="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():p(e,3);var r,n,a,i=e.charCodeAt(0);if(43===i||45===i){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>a)return NaN;return parseInt(c,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(g?c((function(){v.valueOf.call(r)})):i(r)!=h)?s(new m(b(e)),r,d):b(e)};for(var w,y=r("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;y.length>x;x++)a(m,w=y[x])&&!a(d,w)&&f(d,w,u(m,w));d.prototype=v,v.constructor=d,r("2aba")(n,h,d)}},cb1a:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{attrs:{title:"图片查看器"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("img",{attrs:{src:t.src,width:"100%"}}),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("关闭")])],1)])},a=[],i={props:{is_show:{type:Boolean,default:!1},src:{type:String,default:""}},data:function(){return{show:!1}},watch:{is_show:function(t){t&&(this.show=!0,this.$emit("closePicture"))}}},s=i,o=r("2877"),c=Object(o["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},e1e9:function(t,e,r){"use strict";var n=r("92f8"),a=r.n(n);a.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-70c75020.312a5d57.js.map